# Hypothesis-hackers
Реализация алгоритма ранжирования

Изначально алгоритм подбирает несколько ближайших вокзалов/аэропортов для начальной и конечной точек и строит несколько маршрутов между этими точками. Затем строится маршрут от дома потребителя до выбранного аэропорта/вокзала, и от конечного аэропорта/вокзала до отеля строится маршрут. Затем три маршрута складываются воедино.

Для составления всех трёх маршрутов используется Алгоритм А*. 

Алгоритм А* для поиска наикратчайшего пути между городами или странами. Алгоритм подбирает наилучший путь на поезде и самолёте. 
Веса ребёр (фактическая стоимость) складывается из:
Время = время в пути + время на остановки по пути + возможная задержка + время на ожидание + штраф за неточность времени отправления + время на пересадку + время на пробку 
Стоимость = цена билетов + скидки 

Эвристическая оценка учитывает следующие факторы:
расстояние большого круга между двумя точками (рассчитанное по формуле гаверсина)
Среднее время в пути (среднее время в пути для каждого транспорта)
Ожидаемое время на пересадки (сумма среднего времени на пересадки)
Ожидаемая задержка (средняя задержка для авиарейсов или поездов) 
Ожидаемая стоимость 
Прогнозируемое время в пробках 

Если время пересадки слишком короткое , то маршрут с этой пересадкой не рассматривается алгоритмом. (Например, пересадка после самолёта должна быть не менее часа и до самолёта пересадка должна быть не менее двух часов)

Функции персонализации маршрута:
- вид транспорта (поезд/самолёт)
- класс (эконом/бизнес)

Ранжировать по параметрам:
- время
- стоимость 
- количество пересадок
- время пересадок (в совокупности)

 Подтягивание данных может осуществляться из Яндекс API или Google. Пример алгоритма для парсинга с Yandex API:
 ```
import requests

def get_yandex_transit_data(start_location, end_location):
    api_key = 'YOUR_YANDEX_API_KEY'
    url = "https://api.yandex.com/v1.0/transit/search"

    params = {
        "start": start_location,
        "end": end_location,
        "apikey": api_key
    }

    response = requests.get(url, params=params)

    if response.status_code == 200:
        return response.json()
    else:
        print(f"Error: {response.status_code}")
        return None

if __name__ == "__main__":
    start_location = "40.730610,-73.935242"  # Пример: координаты Нью-Йорка
    end_location = "51.5155,-0.0922"          # Пример: координаты Лондона

    transit_data = get_yandex_transit_data(start_location, end_location)
    print(transit_data)

```
